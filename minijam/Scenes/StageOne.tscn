[gd_scene load_steps=21 format=2]

[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://cave_normal_background.png" type="Texture" id=2]
[ext_resource path="res://Tilesets/THISTOO.tres" type="TileSet" id=3]
[ext_resource path="res://Assets/pictureLightMask2_thumb-1000464370.jpg" type="Texture" id=4]
[ext_resource path="res://Scenes/Enemy.tscn" type="PackedScene" id=5]
[ext_resource path="res://Assets/walltorchs.png" type="Texture" id=6]
[ext_resource path="res://healthbar/big.png" type="Texture" id=7]
[ext_resource path="res://healthbar/hbfillbig.png" type="Texture" id=9]
[ext_resource path="res://Scenes/Portal.tscn" type="PackedScene" id=10]
[ext_resource path="res://Tilesets/WALLS.tres" type="TileSet" id=11]
[ext_resource path="res://Tilesets/CORNERTILES.tres" type="TileSet" id=12]
[ext_resource path="res://LAMP/torchpost.png" type="Texture" id=13]
[ext_resource path="res://Tilesets/THIS.tres" type="TileSet" id=14]

[sub_resource type="GDScript" id=10]
script/source = "extends TextureProgress



# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#	pass
"

[sub_resource type="CircleShape2D" id=9]
radius = 50.04

[sub_resource type="AtlasTexture" id=11]
atlas = ExtResource( 6 )
region = Rect2( 0, 0, 10, 16 )

[sub_resource type="AtlasTexture" id=12]
atlas = ExtResource( 6 )
region = Rect2( 10, 0, 10, 16 )

[sub_resource type="AtlasTexture" id=13]
atlas = ExtResource( 6 )
region = Rect2( 20, 0, 10, 16 )

[sub_resource type="AtlasTexture" id=15]
atlas = ExtResource( 6 )
region = Rect2( 20, 16, 10, 16 )

[sub_resource type="SpriteFrames" id=3]
animations = [ {
"frames": [ SubResource( 11 ), SubResource( 12 ), SubResource( 13 ), SubResource( 15 ) ],
"loop": true,
"name": "default",
"speed": 8.0
} ]

[node name="StageOne" type="Node2D"]

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 9, -5 )

[node name="Light2D" type="Light2D" parent="Player"]
scale = Vector2( 0.592105, 0.592105 )
texture = ExtResource( 4 )
texture_scale = 0.8
color = Color( 0.905882, 0.882353, 0.713726, 1 )
energy = 0.6
shadow_enabled = true

[node name="HealthBar" type="TextureProgress" parent="Player"]
margin_left = -148.0
margin_top = -79.0
margin_right = 191.0
margin_bottom = 97.0
rect_scale = Vector2( 0.117667, 0.178998 )
value = 80.0
texture_under = ExtResource( 7 )
texture_progress = ExtResource( 9 )
script = SubResource( 10 )

[node name="Light2D" type="Light2D" parent="Player/HealthBar"]
position = Vector2( 203.966, 44.6931 )
scale = Vector2( 1.33141, 3.37526 )
texture = ExtResource( 9 )
energy = 0.65

[node name="Background" type="Sprite" parent="."]
modulate = Color( 0.313726, 0.313726, 0.313726, 1 )
show_behind_parent = true
position = Vector2( 306, 13 )
z_index = -20
texture = ExtResource( 2 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
light_mask = 16
color = Color( 0.443137, 0.203922, 0.203922, 1 )

[node name="Enemy" parent="." instance=ExtResource( 5 )]
position = Vector2( 355, -116 )

[node name="Enemy2" parent="." instance=ExtResource( 5 )]
position = Vector2( 369, 124 )

[node name="Torch" type="Area2D" parent="."]
position = Vector2( 27, 6 )

[node name="Torchpost" type="Sprite" parent="Torch"]
position = Vector2( -34, -6 )
texture = ExtResource( 13 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torch"]
position = Vector2( -14, -13 )
shape = SubResource( 9 )

[node name="sprite" type="AnimatedSprite" parent="Torch"]
position = Vector2( -28, -13 )
scale = Vector2( 0.93216, 0.96966 )
frames = SubResource( 3 )
playing = true

[node name="Light2D" type="Light2D" parent="Torch/sprite"]
position = Vector2( 2.14555, -4.12516 )
scale = Vector2( 73.9846, 73.9846 )
texture = ExtResource( 4 )
texture_scale = 0.01
color = Color( 0.888672, 0.40133, 0.134453, 1 )

[node name="Torch2" type="Area2D" parent="."]
position = Vector2( 440, 135 )

[node name="Torchpost" type="Sprite" parent="Torch2"]
position = Vector2( -34, -6 )
texture = ExtResource( 13 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torch2"]
position = Vector2( -14, -13 )
shape = SubResource( 9 )

[node name="sprite" type="AnimatedSprite" parent="Torch2"]
position = Vector2( -28, -13 )
scale = Vector2( 0.93216, 0.96966 )
frames = SubResource( 3 )
frame = 3
playing = true

[node name="Light2D" type="Light2D" parent="Torch2/sprite"]
position = Vector2( 2.14555, -4.12516 )
scale = Vector2( 73.9846, 73.9846 )
texture = ExtResource( 4 )
texture_scale = 0.01
color = Color( 0.888672, 0.40133, 0.134453, 1 )

[node name="Torch3" type="Area2D" parent="."]
position = Vector2( 439, -106 )

[node name="Torchpost" type="Sprite" parent="Torch3"]
position = Vector2( -34, -6 )
texture = ExtResource( 13 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torch3"]
position = Vector2( -14, -13 )
shape = SubResource( 9 )

[node name="sprite" type="AnimatedSprite" parent="Torch3"]
position = Vector2( -28, -13 )
scale = Vector2( 0.93216, 0.96966 )
frames = SubResource( 3 )
frame = 3
playing = true

[node name="Light2D" type="Light2D" parent="Torch3/sprite"]
position = Vector2( 2.14555, -4.12516 )
scale = Vector2( 73.9846, 73.9846 )
texture = ExtResource( 4 )
texture_scale = 0.01
color = Color( 0.888672, 0.40133, 0.134453, 1 )

[node name="Torch4" type="Area2D" parent="."]
position = Vector2( 676, 54 )

[node name="Torchpost" type="Sprite" parent="Torch4"]
position = Vector2( -34, -6 )
texture = ExtResource( 13 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Torch4"]
position = Vector2( -14, -13 )
shape = SubResource( 9 )

[node name="sprite" type="AnimatedSprite" parent="Torch4"]
position = Vector2( -28, -13 )
scale = Vector2( 0.93216, 0.96966 )
frames = SubResource( 3 )
frame = 2
playing = true

[node name="Light2D" type="Light2D" parent="Torch4/sprite"]
position = Vector2( 2.14555, -4.12516 )
scale = Vector2( 73.9846, 73.9846 )
texture = ExtResource( 4 )
texture_scale = 0.01
color = Color( 0.888672, 0.40133, 0.134453, 1 )

[node name="TileMap2" type="TileMap" parent="."]
tile_set = ExtResource( 3 )
cell_size = Vector2( 8, 8 )
cell_custom_transform = Transform2D( 8, 0, 0, 8, 0, 0 )
format = 1
tile_data = PoolIntArray( -655300, 0, 0, -589764, 0, 0, -589763, 0, 0, -589762, 0, 0, -524226, 0, 0, -524225, 0, 0, -458689, 0, 0, -458688, 0, 0, -393152, 0, 0, -393151, 0, 0, -327615, 0, 0, -327614, 0, 0, -262077, 0, 0, -196541, 0, 0, -196540, 0, 0, -131004, 0, 0, -65468, 0, 0, 68, 0, 0, 65604, 0, 0, 65605, 0, 0, 65606, 0, 0, 65607, 0, 0, 65608, 0, 0, 65609, 0, 0, 65610, 0, 0, 65611, 0, 0, 65612, 0, 0, 65613, 0, 0, 65614, 0, 0, 65615, 0, 0, 65616, 0, 0, 65617, 0, 0, 65618, 0, 0, 65619, 0, 0, 65620, 0, 0, 65621, 0, 0, 65622, 0, 0, 65623, 0, 0, 65624, 0, 0, 65625, 0, 0, 131162, 0, 0, 131163, 0, 0, 196699, 0, 0, 196700, 0, 0, 196701, 0, 0, 262237, 0, 0, 262238, 0, 0, 524378, 0, 0, 524379, 0, 0, 524382, 0, 0, 524383, 0, 0, 524384, 0, 0, 524385, 0, 0, 524386, 0, 0, 524387, 0, 0, 524388, 0, 0 )

[node name="Walls" type="TileMap" parent="."]
tile_set = ExtResource( 11 )
cell_size = Vector2( 16, 16 )
format = 1

[node name="Corners" type="TileMap" parent="."]
tile_set = ExtResource( 12 )
cell_size = Vector2( 16, 16 )
format = 1

[node name="TILESET" type="TileMap" parent="."]
tile_set = ExtResource( 14 )
cell_size = Vector2( 16, 16 )
show_collision = true
format = 1
tile_data = PoolIntArray( -327686, 4, 0, -327685, 4, 0, -327684, 4, 0, -327683, 4, 0, -327682, 4, 0, -327681, 7, 0, -393216, 7, 0, -393215, 7, 0, -393214, 7, 0, -393213, 7, 0, -393212, 7, 0, -393211, 7, 0, -393210, 7, 0, -393209, 7, 0, -393208, 7, 0, -393207, 14, 0, -393201, 1, 0, -393200, 1, 0, -393199, 1, 0, -393198, 1, 0, -393197, 1, 0, -393196, 16, 0, -393195, 16, 0, -393194, 16, 0, -393193, 16, 0, -393192, 16, 0, -393191, 16, 0, -393190, 16, 0, -393189, 16, 0, -393188, 16, 0, -393187, 16, 0, -262148, 4, 0, -262147, 4, 0, -262146, 10, 0, -327666, 1, 0, -196615, 4, 0, -196614, 4, 0, -196613, 4, 0, -196612, 4, 0, -196611, 12, 0, -262131, 1, 0, -131079, 4, 0, -131078, 4, 0, -131077, 4, 0, -131076, 4, 0, -131075, 12, 0, -196596, 1, 0, -65543, 4, 0, -65542, 4, 0, -65541, 4, 0, -65540, 4, 0, -65539, 12, 0, -131061, 1, 0, -7, 4, 0, -6, 4, 0, -5, 4, 0, -4, 4, 0, -3, 12, 0, -65526, 1, 0, 65529, 4, 0, 65530, 4, 0, 65531, 4, 0, 65532, 4, 0, 65533, 12, 0, 65534, 14, 0, 9, 1, 0, 131065, 16, 0, 131066, 16, 0, 131067, 16, 0, 131068, 16, 0, 131069, 16, 0, 131070, 16, 0, 131071, 16, 0, 65536, 16, 0, 65537, 16, 0, 65538, 1, 0, 65540, 1, 0, 65541, 1, 0, 65542, 1, 0, 65543, 1, 0, 65544, 1, 0, 196601, 4, 0, 196602, 4, 0, 196603, 4, 0, 196604, 4, 0, 196605, 4, 0, 196606, 4, 0, 196607, 4, 0, 131072, 4, 0, 131073, 4, 0, 131074, 4, 0, 131075, 4, 0, 131076, 4, 0, 131077, 4, 0, 131078, 4, 0, 131079, 4, 0, 131080, 4, 0, 131081, 4, 0, 131082, 4, 0, 262137, 4, 0, 262138, 4, 0, 262139, 4, 0, 262140, 4, 0, 262141, 4, 0, 262142, 4, 0, 262143, 4, 0, 196608, 4, 0, 196609, 4, 0, 196610, 4, 0, 196611, 4, 0, 196612, 4, 0, 196613, 4, 0, 196614, 4, 0, 196615, 4, 0, 196616, 4, 0, 196617, 4, 0, 196618, 4, 0, 196627, 7, 0, 196628, 7, 0, 196629, 7, 0, 196630, 7, 0, 196631, 7, 0, 196632, 7, 0, 196633, 7, 0, 196634, 7, 0, 196635, 7, 0, 196636, 7, 0, 196637, 7, 0, 196638, 7, 0, 327673, 4, 0, 327674, 4, 0, 327675, 4, 0, 327676, 4, 0, 327677, 4, 0, 327678, 4, 0, 327679, 4, 0, 262144, 4, 0, 262145, 4, 0, 262146, 4, 0, 262147, 4, 0, 262148, 4, 0, 262149, 4, 0, 262150, 4, 0, 262151, 4, 0, 262152, 4, 0, 262153, 4, 0, 262154, 4, 0, 262162, 10, 0, 262180, 0, 0, 262181, 16, 0, 262182, 16, 0, 262183, 16, 0, 262184, 16, 0, 262185, 16, 0, 262186, 16, 0, 262187, 16, 0, 327697, 5, 0, 327715, 0, 0, 393233, 5, 0, 393250, 0, 0, 458769, 5, 0, 458785, 0, 0, 524306, 14, 0, 524320, 0, 0, 589842, 4, 0, 589843, 1, 0, 589844, 1, 0, 589845, 1, 0, 589846, 1, 0, 589847, 1, 0, 589848, 1, 0, 589849, 1, 0, 589850, 1, 0, 589851, 1, 0, 589852, 1, 0, 589853, 1, 0, 589854, 1, 0, 589855, 1, 0 )

[node name="Portal" parent="." instance=ExtResource( 10 )]
position = Vector2( 671, 46 )

[connection signal="damage" from="Player" to="Enemy" method="_on_Player_damage"]
[connection signal="area_entered" from="Torch" to="Player" method="_on_Torch_area_entered"]
[connection signal="area_exited" from="Torch" to="Player" method="_on_Torch_area_exited"]
[connection signal="area_entered" from="Torch2" to="Player" method="_on_Torch_area_entered"]
[connection signal="area_exited" from="Torch2" to="Player" method="_on_Torch_area_exited"]
[connection signal="area_entered" from="Torch3" to="Player" method="_on_Torch_area_entered"]
[connection signal="area_exited" from="Torch3" to="Player" method="_on_Torch_area_exited"]
[connection signal="area_entered" from="Torch4" to="Player" method="_on_Torch_area_entered"]
[connection signal="area_exited" from="Torch4" to="Player" method="_on_Torch_area_exited"]
[connection signal="area_entered" from="Portal" to="Player" method="_on_Portal_area_entered"]

[editable path="Player"]
